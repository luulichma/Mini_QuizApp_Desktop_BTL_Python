<ChatbotScreen>:
    name: 'chatbot'

    BoxLayout:
        orientation: 'vertical'
        padding: dp(12)
        spacing: dp(8)

        BoxLayout:
            size_hint_y: None
            height: dp(48)
            spacing: dp(8)
            padding: dp(4), 0, dp(4), 0

            Button:
                text: '← Quay lại'
                size_hint_x: None
                width: dp(100)
                on_release: root.go_back()

            Label:
                text: 'Trợ lý Quiz App'
                halign: 'left'
                valign: 'middle'
                text_size: self.size
                bold: True

        ScrollView:
            id: messages_scroll
            do_scroll_x: False
            BoxLayout:
                id: messages_container
                orientation: 'vertical'
                size_hint_y: None
                height: self.minimum_height
                spacing: dp(6)

        BoxLayout:
            size_hint_y: None
            height: dp(48)
            spacing: dp(6)

            TextInput:
                id: chat_input
                multiline: False
                hint_text: 'Viết tin nhắn ở đây...'

            Button:
                text: 'Gửi'
                size_hint_x: None
                width: dp(90)
                on_release: root.send_message()
