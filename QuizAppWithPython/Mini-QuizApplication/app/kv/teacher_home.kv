<QuizListItem@BoxLayout>:
    size_hint_y: None
    height: '90dp'
    padding: [15, 10]
    spacing: 15
    canvas.before:
        Color:
            rgba: 1, 1, 1, 0.1  # Màu nền trắng mờ cho hiệu ứng thẻ
        RoundedRectangle:
            size: self.size
            pos: self.pos
            radius: [8]

<TeacherHomeScreen>:
    name: "teacher_home"

    BoxLayout:
        orientation: "vertical"
        canvas.before:
            Color:
                rgba: 0.15, 0.5, 1, 1
            Rectangle:
                size: self.size
                pos: self.pos

        # ======= Thanh top bar =======
        BoxLayout:
            size_hint_y: 0.12
            padding: [20, 10]
            spacing: 20
            canvas.before:
                Color:
                    rgba: 1, 1, 1, 0.15
                Rectangle:
                    size: self.size
                    pos: self.pos

            Label:
                text: "[b]QuizApp[/b]"
                markup: True
                font_size: 24
                color: 1, 1, 1, 1
                size_hint_x: 0.8

            Button:
                text: "Đăng xuất"
                size_hint_x: 0.2
                background_color: 0, 0, 0, 0
                color: 1, 1, 1, 1
                on_release: root.logout()

        # ======= Nội dung chính với TabbedPanel =======
        TabbedPanel:
            id: content_tabs
            do_default_tab: True
            tab_pos: 'top_mid'
            tab_width: 150
            background_color: (0, 0, 0, 0) # Nền trong suốt
            
            TabbedPanelItem:
                id: home_tab_item
                text: "Home"
                background_color: (0.15, 0.5, 1, 1)
                # ===== Home Tab =====
                BoxLayout:
                    id: home_tab
                    orientation: "vertical"
                    spacing: 20

                    Widget:  # khoảng trống trên
                    Label:
                        text: "Welcome, teacher!"
                        font_size: 32
                        bold: True
                        color: 1, 1, 1, 1
                        halign: "center"
                        size_hint_y: None
                        height: 60
                    Button:
                        text: "Create quiz"
                        size_hint: (0.25, None)
                        height: 50
                        pos_hint: {"center_x": 0.5}
                        background_color: 1, 1, 1, 0.25
                        color: 1, 1, 1, 1
                        font_size: 18
                        on_release: root.go_to_create_quiz()
                    Widget:  # khoảng trống dưới

            TabbedPanelItem:
                text: "Library"
                background_color: (0.15, 0.5, 1, 1)
                on_release: root.load_quiz_library() # Tải library khi nhấn vào tab
                # ===== Library Tab =====
                BoxLayout:
                    id: library_tab
                    orientation: "vertical"
                    padding: [0, 10, 0, 0]

                    ScrollView:
                        do_scroll_x: False
                        GridLayout:
                            id: quiz_list
                            cols: 1
                            size_hint_y: None
                            height: self.minimum_height
                            spacing: 10
                            padding: [10, 10]

            TabbedPanelItem:
                text: "Class"
                background_color: (0.15, 0.5, 1, 1)
                # ===== Class Tab =====
                BoxLayout:
                    id: class_tab
                    orientation: "vertical"
                    Label:
                        text: "Tính năng đang phát triển..."
                        color: 1, 1, 1, 0.8
                        font_size: 18
                        halign: "center"

            TabbedPanelItem:
                text: "Tài khoản"
                background_color: (0.15, 0.5, 1, 1)
                BoxLayout:
                    orientation: "vertical"
                    padding: 40
                    spacing: 20
                    size_hint_y: None
                    height: self.minimum_height
                    pos_hint: {'center_y': 0.6}
                    Button:
                        text: "Đổi mật khẩu"
                        size_hint_y: None
                        height: 50
                        on_release: root.go_to_change_password()
