#:import dp kivy.metrics.dp

<QuizCreateScreen>:
    name: "quiz_create"

    BoxLayout:
        orientation: "vertical"
        canvas.before:
            Color:
                rgba: 0.95, 0.95, 0.95, 1
            Rectangle:
                pos: self.pos
                size: self.size

        # Top bar
        BoxLayout:
            size_hint_y: None
            height: dp(70)
            padding: [dp(30), dp(15)]
            background_color: 0.2, 0.5, 1, 1

            Button:
                text: "< Quay lại"
                size_hint_x: 0.2
                font_size: "18sp"
                background_color: 0, 0, 0, 0
                color: 1, 1, 1, 1
                on_release: root.go_back()

            Label:
                id: screen_title
                text: "Tạo Quiz"
                font_size: "28sp"
                bold: True
                color: 1, 1, 1, 1

        # Scrollable content
        ScrollView:
            GridLayout:
                cols: 1
                size_hint_y: None
                height: self.minimum_height
                spacing: dp(20)
                padding: dp(40)

                TextInput:
                    id: quiz_name
                    hint_text: "Tên Quiz"
                    size_hint_y: None
                    height: dp(60)
                    font_size: "20sp"
                    padding: [20, 20, 20, 20]

                TextInput:
                    id: quiz_description
                    hint_text: "Mô tả Quiz (tùy chọn)"
                    multiline: True
                    size_hint_y: None
                    height: dp(100)
                    font_size: "18sp"
                    padding: [20, 20, 20, 20]

                TextInput:
                    id: quiz_duration
                    hint_text: "Thời lượng (phút, ví dụ: 30)"
                    input_filter: 'int'
                    size_hint_y: None
                    height: dp(60)
                    font_size: "18sp"
                    padding: [20, 20, 20, 20]

                GridLayout:
                    id: question_container
                    cols: 1
                    size_hint_y: None
                    height: self.minimum_height
                    spacing: dp(25)

                Button:
                    text: "+ Thêm câu hỏi"
                    font_size: "20sp"
                    bold: True
                    background_color: 0.2, 0.5, 1, 1
                    color: 1, 1, 1, 1
                    size_hint_y: None
                    height: dp(60)
                    on_release: root.add_question_block()

                Button:
                    text: "Lưu Quiz"
                    font_size: "22sp"
                    bold: True
                    background_color: 0.1, 0.7, 0.4, 1
                    color: 1, 1, 1, 1
                    size_hint_y: None
                    height: dp(60)
                    on_release: root.save_quiz()
